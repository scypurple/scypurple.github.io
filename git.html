<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="My Site Atom Feed"><title data-rh="true">Git brief guidebook | My Site</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://scypurple.github.io/git"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Git brief guidebook | My Site"><meta data-rh="true" name="description" content="git guidebook"><meta data-rh="true" property="og:description" content="git guidebook"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-04-27T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.scypurple.top"><meta data-rh="true" property="article:tag" content="git"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://scypurple.github.io/git"><link data-rh="true" rel="alternate" href="https://scypurple.github.io/git" hreflang="en"><link data-rh="true" rel="alternate" href="https://scypurple.github.io/git" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8effceb6.css">
<link rel="preload" href="/assets/js/runtime~main.9f983c80.js" as="script">
<link rel="preload" href="/assets/js/main.9fab857f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scypurple" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Ajax">手写Ajax</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/JS">YDK JS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/React">React - The JavaScript Framework</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/welcome">Welcome</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/git">Git brief guidebook</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_Ikge" itemprop="headline">Git brief guidebook</h1><div class="blogPostData_SAv4 margin-vert--md"><time datetime="2021-04-27T00:00:00.000Z" itemprop="datePublished">April 27, 2021</time> · <!-- -->14 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_sTYa"><div class="avatar margin-bottom--sm"><a href="https://www.scypurple.top" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://s2.loli.net/2022/06/11/rxBPTmAQ697fltv.jpg" alt="Lore"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.scypurple.top" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Lore</span></a></div><small class="avatar__subtitle" itemprop="description">Gamer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="git-guidebook">git guidebook<a class="hash-link" href="#git-guidebook" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-是什么">git 是什么<a class="hash-link" href="#git-是什么" title="Direct link to heading">​</a></h3><ul><li><p>Git 更像是把数据看作是对小型文件系统的一系列快照。 在 Git 中，每当你提交更新或保存项目状态时，它基本上就会对当时的全部文件创建一个快照并保存这个快照的索引。 为了效率，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个 <strong>快照流</strong>。</p></li><li><p><strong>git保证完整性</strong>  （通过计算哈希校验和）</p></li><li><p><strong>git一般只添加数据</strong></p></li><li><p><strong>本地执行</strong></p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="三种状态">三种状态<a class="hash-link" href="#三种状态" title="Direct link to heading">​</a></h4><ul><li><p><strong>已修改</strong>    </p></li><li><p><strong>已暂存</strong></p></li><li><p><strong>已提交</strong></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取-git-仓库">获取 Git 仓库<a class="hash-link" href="#获取-git-仓库" title="Direct link to heading">​</a></h3><p>通常有两种获取 Git 项目仓库的方式：</p><ol><li>将尚未进行版本控制的本地目录转换为 Git 仓库；</li><li>从其它服务器 <strong>克隆</strong> 一个已存在的 Git 仓库。</li></ol><p>两种方式都会在你的本地机器上得到一个工作就绪的 Git 仓库。</p><ul><li><code>git add</code> <strong>精确地将内容添加到下一次提交中</strong></li><li><code>git status -s</code> <strong>精简输出</strong> <ul><li><code>??</code> <strong>新添加的未跟踪的文件</strong></li><li><code>A</code> <strong>新添加到暂存区中的文件</strong></li><li><code>M</code> <strong>修改过的文件</strong></li><li><code>MM</code> <strong>已修，暂存后又作了修改</strong></li></ul></li><li><code>.gitignore</code> <ul><li>所有空行或者以 # 开头的行都会被 Git 忽略。</li><li>可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中。</li><li>匹配模式可以以（/）开头防止递归。</li><li>匹配模式可以以（/）结尾指定目录。</li><li>要忽略指定模式以外的文件或目录，可以在模式前加上叹号（!）取反。<blockquote><p>所谓的 glob 模式是指 shell 所使用的简化了的正则表达式。 星号（*）匹配零个或多个任意字符；<!-- -->[abc]<!-- --> 匹配任何一个列在方括号中的字符 （这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）； 问号（?）只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符， 表示所有在这两个字符范围内的都可以匹配（比如 <!-- -->[0-9]<!-- --> 表示匹配所有 0 到 9 的数字）。 使用两个星号（<strong>）表示匹配任意中间目录，比如 a/</strong>/z 可以匹配 a/z 、 a/b/z 或 a/b/c/z 等。</p></blockquote></li></ul></li></ul><div class="language-.gitignore codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-.gitignore codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 忽略所有的 .a 文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*.a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!lib.a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/TODO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 忽略任何目录下名为 build 的文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">build/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc/*.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 忽略 doc/ 目录及其所有子目录下的 .pdf 文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc/**/*.pdf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看已暂存和未暂存的修改">查看已暂存和未暂存的修改<a class="hash-link" href="#查看已暂存和未暂存的修改" title="Direct link to heading">​</a></h3><blockquote><p>如果 <code>git status</code> 过于简略，想知道具体修改了什么地方，可以用</p><ul><li><code>git diff</code> 回答了(<code>git status</code> + 补丁)<ol><li>当前做的哪些更新尚未暂存？</li><li>有哪些更新已暂存并准备好下次提交？</li></ol></li><li>比较的是工作目录中当前文件和暂存区域快照之间的差异，也就是修改之后还没有暂存起来的变化内容</li><li><code>git diff --staged</code> 要查看已暂存的将要添加到下次提交里的内容 </li><li><code>git diff --cached</code> 查看已经暂存起来的变化 (同上)</li><li><code>git difftool</code> 插件版本</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="提交更新">提交更新<a class="hash-link" href="#提交更新" title="Direct link to heading">​</a></h3><ul><li><code>git commit</code> <code>-a</code> 参数跳过<code>git add</code> </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="移除文件">移除文件<a class="hash-link" href="#移除文件" title="Direct link to heading">​</a></h3><ul><li><code>git rm</code> 从暂存区域移除，然后提交。<blockquote><p>下一次提交时，该文件就不再纳入版本管理了。 如果要删除之前修改过或已经放到暂存区的文件，则必须使用强制删除选项 -f（译注：即 force 的首字母）。 这是一种安全特性，用于防止误删尚未添加到快照的数据，这样的数据不能被 Git 恢复。</p></blockquote></li><li><code>git rm --cached README</code> <blockquote><p>我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。 换句话说，你想让文件保留在磁盘，但是并不想让 Git 继续跟踪。 当你忘记添加 .gitignore 文件，不小心把一个很大的日志文件或一堆 .a 这样的编译生成文件添加到暂存区时，这一做法尤其有用。</p></blockquote></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="移动文件">移动文件<a class="hash-link" href="#移动文件" title="Direct link to heading">​</a></h3><ul><li><code>git mv README.md README</code> 相当于：</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> README.md README</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> README</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看提交历史">查看提交历史<a class="hash-link" href="#查看提交历史" title="Direct link to heading">​</a></h3><ul><li><code>git log</code><blockquote><p>不传入任何参数的默认情况下，git log 会按时间先后顺序列出所有的提交，最近的更新排在最上面。 正如你所看到的，这个命令会列出每个提交的 SHA-1 校验和、作者的名字和电子邮件地址、提交时间以及提交说明。</p></blockquote></li><li><code>-p</code> 或 <code>--patch</code><blockquote><p>它会显示每次提交所引入的差异（按 补丁 的格式输出）。 你也可以限制显示的日志条目数量，例如使用 -2 选项来只显示最近的两次提交</p></blockquote></li><li><code>--stat</code> 每次提交的简略统计信息</li><li><code>--pretty</code> 这个选项可以使用不同于默认格式的方式展示提交历史。 这个选项有一些内建的子选项供你使用。 比如 oneline 会将每个提交放在一行显示，在浏览大量的提交时非常有用。 另外还有 short，full 和 fuller 选项，它们展示信息的格式基本一致，但是详尽程度不一：</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log --pretty</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ca82a6dff817ec66f44342007202690a93763949 changed the version number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7 removed unnecessary </span><span class="token builtin class-name">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a11bef06a3f659402fe7563abf99ad00de2209e6 first commit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>format</code> 可以定制记录的显示格式</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log --pretty</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">format:</span><span class="token string" style="color:#e3116c">&quot;%h - %an, %ar : %s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ca82a6d - Scott Chacon, </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> years ago </span><span class="token builtin class-name">:</span><span class="token plain"> changed the version number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">085bb3b - Scott Chacon, </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> years ago </span><span class="token builtin class-name">:</span><span class="token plain"> removed unnecessary </span><span class="token builtin class-name">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a11bef0 - Scott Chacon, </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> years ago </span><span class="token builtin class-name">:</span><span class="token plain"> first commit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>%H</code></td><td>提交的完整哈希值</td></tr><tr><td><code>%h</code></td><td>提交的简写哈希值</td></tr><tr><td><code>%T</code></td><td>树的完整哈希值</td></tr><tr><td><code>%t</code></td><td>树的简写哈希值</td></tr><tr><td><code>%P</code></td><td>父提交的完整哈希值</td></tr><tr><td><code>%p</code></td><td>父提交的简写哈希值</td></tr><tr><td><code>%an</code></td><td>作者名字</td></tr><tr><td><code>%ae</code></td><td>作者的电子邮件地址</td></tr><tr><td><code>%ad</code></td><td>作者修订日期（可以用 --date=选项 来定制格式）</td></tr><tr><td><code>%ar</code></td><td>作者修订日期，按多久以前的方式显示</td></tr><tr><td><code>%cn</code></td><td>提交者的名字</td></tr><tr><td><code>%ce</code></td><td>提交者的电子邮件地址</td></tr><tr><td><code>%cd</code></td><td>提交日期</td></tr><tr><td><code>%cr</code></td><td>提交日期（距今多长时间）</td></tr><tr><td><code>%s</code></td><td>提交说明</td></tr></tbody></table><ul><li>当 <code>oneline</code> 或 <code>format</code> 与另一个 <code>log</code> 选项 <code>--graph</code> 结合使用时尤其有用。 这个选项添加了一些 ASCII 字符串来形象地展示你的分支、合并历史：</li></ul><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git log --pretty=format:&quot;%h %s&quot; --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 2d3acf9 ignore errors from SIGCHLD on trap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*  5e3ee11 Merge branch &#x27;master&#x27; of git://github.com/dustin/grit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| * 420eac9 Added a method for getting the current branch.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | 30e367c timeout code and tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | 5a09431 add timeout protection to grit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* | e1193f8 support for heads with slashes in them</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* d6016bc require time for xmlschema</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*  11d191e Merge branch &#x27;defunkt&#x27; into local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th align="left">选项</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><code>-p</code></td><td align="left">按补丁格式显示每个提交引入的差异。</td></tr><tr><td align="left"><code>--stat</code></td><td align="left">显示每次提交的文件修改统计信息。</td></tr><tr><td align="left"><code>--shortstat</code></td><td align="left">只显示 --stat 中最后的行数修改添加移除统计。</td></tr><tr><td align="left"><code>--name-only</code></td><td align="left">仅在提交信息后显示已修改的文件清单。</td></tr><tr><td align="left"><code>--name-status</code></td><td align="left">显示新增、修改、删除的文件清单。</td></tr><tr><td align="left"><code>--abbrev-commit</code></td><td align="left">仅显示 SHA-1 校验和所有 40 个字符中的前几个字符。</td></tr><tr><td align="left"><code>--relative-date</code></td><td align="left">使用较短的相对时间而不是完整格式显示日期（比如“2 weeks ago”）。</td></tr><tr><td align="left"><code>--graph</code></td><td align="left">在日志旁以 ASCII 图形显示分支与合并历史。</td></tr><tr><td align="left"><code>--pretty</code></td><td align="left">使用其他格式显示历史提交信息。可用的选项包括 oneline、short、full、fuller 和 format（用来定义自己的格式）。</td></tr><tr><td align="left"><code>--oneline</code></td><td align="left"><code>--pretty=oneline --abbrev-commit</code> 合用的简写。</td></tr></tbody></table><ul><li>限制 <code>git log</code> 输出的选项</li></ul><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>-&lt;n&gt;</code></td><td>仅显示最近的 n 条提交。</td></tr><tr><td><code>--since</code>, <code>--after</code></td><td>仅显示指定时间之后的提交。</td></tr><tr><td><code>--until</code>, <code>--before</code></td><td>仅显示指定时间之前的提交。</td></tr><tr><td><code>--author</code></td><td>仅显示作者匹配指定字符串的提交。</td></tr><tr><td><code>--committer</code></td><td>仅显示提交者匹配指定字符串的提交。</td></tr><tr><td><code>--grep</code></td><td>仅显示提交说明中包含指定字符串的提交。</td></tr><tr><td><code>-S</code></td><td>仅显示添加或删除内容匹配指定字符串的提交。</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="撤销操作">撤销操作<a class="hash-link" href="#撤销操作" title="Direct link to heading">​</a></h3><p>有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。 此时，可以运行带有 <code>--amend</code> 选项的提交命令来重新提交：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit --amend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>例如，你提交后发现忘记了暂存某些需要的修改，可以像下面这样操作：</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit -m &#x27;initial commit&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git add forgotten_file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit --amend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最终你只会有一个提交——第二次提交将代替第一次提交的结果。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="取消暂存的文件">取消暂存的文件<a class="hash-link" href="#取消暂存的文件" title="Direct link to heading">​</a></h3><ul><li><code>git reset</code> 来取消 <code>git add</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="远程仓库的使用">远程仓库的使用<a class="hash-link" href="#远程仓库的使用" title="Direct link to heading">​</a></h3><ul><li><p><code>git push origin master</code></p><blockquote><p>只有当你有所克隆服务器的写入权限，并且之前没有人推送过时，这条命令才能生效。 当你和其他人在同一时间克隆，他们先推送到上游然后你再推送到上游，你的推送就会毫无疑问地被拒绝。 你必须先抓取他们的工作并将其合并进你的工作后才能推送</p></blockquote></li><li><p><code>git remote show origin</code></p></li><li><p><code>git tag -a v0.1 -m &quot;my version 0.1&quot;</code> 附注标签</p></li><li><p><code>git show</code> 可以看到标签信息和与之对应的提交信息</p></li><li><p><code>git tag v0.1-1w</code> 轻量标签本质上是将提交校验和存储到一个文件中——没有保存任何其他信息。</p></li><li><p>后期打标签</p></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log --pretty</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> tag -a v0.2 9fceb02</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>git push origin &lt;tagname&gt; | tags //v0.2 | 多个标签</code></li><li><code>git tag -d &lt;tagname&gt;</code> 并不会作用于远程仓库 需要
<code>git push &lt;remote&gt; :refs/tags/&lt;tagname&gt;</code> :
<code>$ git push origin :refs/tags/v0.2-1w</code>
上面这种操作的含义是，将冒号前面的空值推送到远程标签名，从而高效地删除它。
第二种更直观的删除远程标签的方式是：
<code>$ git push origin --delete &lt;tagname&gt;</code></li><li><code>git checkout 0.2</code> 检出标签</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="git-分支">Git 分支<a class="hash-link" href="#git-分支" title="Direct link to heading">​</a></h2><ul><li><code>git branch testing</code> 创建分支，它只是为你创建了一个可以移动的新的指针</li><li><code>git checkout -b &lt;newbranchname&gt;</code> 创建并切换分支</li><li><code>git merge &lt;branchname&gt;</code></li><li><code>git branch -d &lt;branchname&gt;</code></li><li><code>git branch --merged | --no-merged</code> 已 | 未 合并的分支</li><li><code>git remote add teamone git://git.team1.ourcompany.com</code> 添加远程分支</li><li><code>git fetch teamone</code> 抓取远程仓库 <code>teamone</code> 有而本地没有的数据</li></ul></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_u0Nl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/git">git</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2021-04-27-Git.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/welcome"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Welcome</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#git-guidebook" class="table-of-contents__link toc-highlight">git guidebook</a><ul><li><a href="#git-是什么" class="table-of-contents__link toc-highlight">git 是什么</a></li><li><a href="#获取-git-仓库" class="table-of-contents__link toc-highlight">获取 Git 仓库</a></li><li><a href="#查看已暂存和未暂存的修改" class="table-of-contents__link toc-highlight">查看已暂存和未暂存的修改</a></li><li><a href="#提交更新" class="table-of-contents__link toc-highlight">提交更新</a></li><li><a href="#移除文件" class="table-of-contents__link toc-highlight">移除文件</a></li><li><a href="#移动文件" class="table-of-contents__link toc-highlight">移动文件</a></li><li><a href="#查看提交历史" class="table-of-contents__link toc-highlight">查看提交历史</a></li><li><a href="#撤销操作" class="table-of-contents__link toc-highlight">撤销操作</a></li><li><a href="#取消暂存的文件" class="table-of-contents__link toc-highlight">取消暂存的文件</a></li><li><a href="#远程仓库的使用" class="table-of-contents__link toc-highlight">远程仓库的使用</a></li></ul></li><li><a href="#git-分支" class="table-of-contents__link toc-highlight">Git 分支</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">导航</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Blog</a></li><li class="footer__item"><a href="https://github.com/scypurple" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ➳ 希里 ❦ scypurple 🐱</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9f983c80.js"></script>
<script src="/assets/js/main.9fab857f.js"></script>
</body>
</html>